

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ALD.ALD_recipes package &#8212; scopefoundry  documentation</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">scopefoundry  documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ALD.ALD_recipes package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-ALD.ALD_recipes.ALD_display">ALD.ALD_recipes.ALD_display module</a></li>
<li><a class="reference internal" href="#module-ALD.ALD_recipes.ALD_recipe">ALD.ALD_recipes.ALD_recipe module</a></li>
<li><a class="reference internal" href="#module-ALD.ALD_recipes.resources">ALD.ALD_recipes.resources module</a></li>
<li><a class="reference internal" href="#module-ALD.ALD_recipes">Module contents</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ALD.ALD_recipes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ald-ald-recipes-package">
<h1>ALD.ALD_recipes package<a class="headerlink" href="#ald-ald-recipes-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ALD.ALD_recipes.ALD_display">
<span id="ald-ald-recipes-ald-display-module"></span><h2>ALD.ALD_recipes.ALD_display module<a class="headerlink" href="#module-ALD.ALD_recipes.ALD_display" title="Permalink to this headline">¶</a></h2>
<p>Created on Apr 11, 2018</p>
<dl class="docutils">
<dt>&#64;author: Alan Buckley &lt;<a class="reference external" href="mailto:alanbuckley&#37;&#52;&#48;berkeley&#46;edu">alanbuckley<span>&#64;</span>berkeley<span>&#46;</span>edu</a>&gt;</dt>
<dd>&lt;<a class="reference external" href="mailto:alanbuckley&#37;&#52;&#48;lbl&#46;gov">alanbuckley<span>&#64;</span>lbl<span>&#46;</span>gov</a>&gt;</dd>
</dl>
<dl class="class">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display">
<em class="property">class </em><code class="descclassname">ALD.ALD_recipes.ALD_display.</code><code class="descname">ALD_Display</code><span class="sig-paren">(</span><em>app</em><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ScopeFoundry.measurement.Measurement</span></code></p>
<ul class="simple">
<li>Generates the user interface layout including user input fields and     output fields displaying ALD sensor data</li>
<li>Creates and updates any plots with data stored in arrays.</li>
<li>This module also checks whether certain conditions in the ALD system environment are met.</li>
</ul>
<p><em>LoggedQuantities</em> in     <code class="xref py py-class docutils literal notranslate"><span class="pre">ALD_Recipe</span></code> are connected to indicators defined here within 
<a class="reference internal" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_conditions_widget" title="ALD.ALD_recipes.ALD_display.ALD_Display.setup_conditions_widget"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup_conditions_widget()</span></code></a>.</p>
<p>This Measurement module and the 
<a class="reference internal" href="#ALD.ALD_recipes.ALD_display.ALD_Display" title="ALD.ALD_recipes.ALD_display.ALD_Display"><code class="xref py py-class docutils literal notranslate"><span class="pre">ALD_Display</span></code></a> module are interdependent and make calls to functions in the other module.
These modules should be loaded by 
<code class="xref py py-class docutils literal notranslate"><span class="pre">ALD_App</span></code>
in the following order:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="#module-ALD.ALD_recipes.ALD_recipe" title="ALD.ALD_recipes.ALD_recipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">ALD_Recipe</span></code></a></li>
<li><a class="reference internal" href="#module-ALD.ALD_recipes.ALD_display" title="ALD.ALD_recipes.ALD_display"><code class="xref py py-class docutils literal notranslate"><span class="pre">ALD_Display</span></code></a></li>
</ol>
<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.conditions_check">
<code class="descname">conditions_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.conditions_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks ALD system conditions. Conditions that are met appear with 
green LED indicators in the Conditions Widget groupBox.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.connect_indicators">
<code class="descname">connect_indicators</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.connect_indicators" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects <em>LoggedQuantities</em> to UI indicators using <code class="xref py py-meth docutils literal notranslate"><span class="pre">connect_to_widget()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.deposition_check">
<code class="descname">deposition_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.deposition_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if deposition conditions are met.</p>
<dl class="docutils">
<dt>Conditions include:</dt>
<dd><ul class="first last simple">
<li>System pumped</li>
<li>Gases ready</li>
<li>RF enabled</li>
<li>Substrate temperature hot.</li>
</ul>
</dd>
</dl>
<p>Button which initiates deposition is enabled only upon the 
satisfaction of the above 4 requirements.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.dockArea_setup">
<code class="descname">dockArea_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.dockArea_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates dock objects and determines order of dockArea widget placement in UI.</p>
<p>This function is called from 
<a class="reference internal" href="#ALD.ALD_recipes.ALD_display.ALD_Display.ui_setup" title="ALD.ALD_recipes.ALD_display.ALD_Display.ui_setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ui_setup()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.export_to_disk">
<code class="descname">export_to_disk</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.export_to_disk" title="Permalink to this definition">¶</a></dt>
<dd><p>Exports numpy data arrays to disk. Writes to 
<code class="xref py py-attr docutils literal notranslate"><span class="pre">self.settings.save_path</span></code>
Function connected to and called by 
<code class="xref py py-attr docutils literal notranslate"><span class="pre">self.export_button</span></code></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.gases_check">
<code class="descname">gases_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.gases_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if MFC flow and system pressure conditions are ideal
for deposition.</p>
<p>Should its conditions be satisfied, its <em>LoggedQuantity</em> is updated
and its respective LED indicator in the Conditions Widget groupBox will appear green.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.load_ui_defaults">
<code class="descname">load_ui_defaults</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.load_ui_defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.name">
<code class="descname">name</code><em class="property"> = 'ALD_display'</em><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.plot_routine">
<code class="descname">plot_routine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.plot_routine" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads from <em>LoggedQuantities</em> and stores them in arrays. 
These arrays are then plotted by <a class="reference internal" href="#ALD.ALD_recipes.ALD_display.ALD_Display.update_display" title="ALD.ALD_recipes.ALD_display.ALD_Display.update_display"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_display()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.pumped_check">
<code class="descname">pumped_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.pumped_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if ALD system is properly pumped down.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.run" title="Permalink to this definition">¶</a></dt>
<dd><p><em>run</em> method runs in an separate thread and is used for data acquisition</p>
<p>No GUI updates should occur within the <em>run</em> function, any Qt related GUI work 
should occur in <a class="reference internal" href="#ALD.ALD_recipes.ALD_display.ALD_Display.update_display" title="ALD.ALD_recipes.ALD_display.ALD_Display.update_display"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_display()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.save_ui_defaults">
<code class="descname">save_ui_defaults</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.save_ui_defaults" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Override this to set up logged quantities and gui connections
Runs during __init__, before the hardware connection is established
Should generate desired LoggedQuantities</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup_buffers_constants">
<code class="descname">setup_buffers_constants</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_buffers_constants" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates constants and storage arrays to be used in this module.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup_conditions_widget">
<code class="descname">setup_conditions_widget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_conditions_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates conditions widget which is meant to provide end user with an 
array of LED indicators (and greyed out pushbuttons serving as labels.)
which serve as indicators of desired conditions within the ALD recipe process.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup_display_controls">
<code class="descname">setup_display_controls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_display_controls" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a dockArea widget containing other parameters to be set by the 
end user, including the length of plot time history and temperature data 
export path.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup_hardware_widget">
<code class="descname">setup_hardware_widget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_hardware_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates Hardware widget which contains the Plasma and Temperature readout subpanels 
and the Pressures and Flow subpanel. 
This enclosing widget was created solely for the purpose of organizing subpanel 
arrangement in UI.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup_operations_widget">
<code class="descname">setup_operations_widget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_operations_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates operations widget which is meant to provide end user with push buttons 
which initiate specific subroutines of the ALD recipe process.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup_plasma_subpanel">
<code class="descname">setup_plasma_subpanel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_plasma_subpanel" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates plasma subpanel which displays information relevant to the 
connected RF power supply. Subpanel also includes fields allowing for 
user defined setpoints to be sent to the power supply software side.</p>
<p>Creates UI elements related to the ALD RF power supply,
establishes signals and slots, as well as connections between UI elements 
and their associated <em>LoggedQuantities</em>.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup_pressures_subpanel">
<code class="descname">setup_pressures_subpanel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_pressures_subpanel" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates pressures subpanel which display pressure sensor measurements. 
Subpanel includes measurement value fields and input fields which allow for 
user defined setpoints to be sent to pressure controllers.</p>
<p>Creates UI elements related to ALD pressure controllers,
establishes signals and slots, as well as connections between UI elements 
and their associated <em>LoggedQuantities</em>.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup_recipe_control_widget">
<code class="descname">setup_recipe_control_widget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_recipe_control_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates recipe control widget, UI elements related to ALD recipe settings,
establishes signals and slots, as well as connections between UI elements 
and their associated <em>LoggedQuantities</em></p>
<p>The table widget consists of a hierarchy of PyQt5 classes.
The structure of the table widget assumes the following form:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QWidget</span></code></dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableView</span></code></dt>
<dd><ul class="first last">
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableModel</span></code></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>More specific to the case of the subroutine table:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QWidget</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">subroutine_table_widget</span></code>)</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableView</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">subroutine_table</span></code>)</dt>
<dd><ul class="first last">
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableModel</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">subtableModel</span></code>)</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>And in the case of the main recipe table:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QWidget</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">table_widget</span></code>)</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableView</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">pulse_table</span></code>)</dt>
<dd><ul class="first last">
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableModel</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">tableModel</span></code>)</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>See         <code class="xref py py-meth docutils literal notranslate"><span class="pre">ALD.ALD_recipes.ALD_display.setup_recipe_control_widget()</span></code>         for details.</p>
<p><strong>Example of table creation using PyQt5 and ScopeFoundry:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">table_widget</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table_widget_layout</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHBoxLayout</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table_widget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_widget_layout</span><span class="p">)</span>

<span class="bp">self</span><span class="o">.</span><span class="n">table_label</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s1">&#39;Table Label&#39;</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table_widget</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_label</span><span class="p">)</span>

<span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableView</span><span class="p">()</span>
<span class="c1">## Optional height constraint.</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="mi">65</span><span class="p">)</span>

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;List&#39;</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s1">&#39;column&#39;</span><span class="p">,</span> <span class="s1">&#39;labels&#39;</span><span class="p">]</span>

<span class="bp">self</span><span class="o">.</span><span class="n">tableModel</span> <span class="o">=</span> <span class="n">ArrayLQ_QTableModel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">displayed_array</span><span class="p">,</span> <span class="n">col_names</span><span class="o">=</span><span class="n">names</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">setModel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tableModel</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table_widget</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">)</span>

<span class="c1">### Add widget to enclosing outer widget</span>
<span class="bp">self</span><span class="o">.</span><span class="n">containing_widget</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_widget</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that <code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayLQ_QTableModel</span></code> is a ScopeFoundry function containing PyQt5 code.
For simplicity, it has been included in ScopeFoundry’s core framework under ndarray_interactive.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup_rf_flow_widget">
<code class="descname">setup_rf_flow_widget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_rf_flow_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates RF/MFC plotting widget. UI elements are created, which are meant to 
allow the user to monitor ALD system conditions through the use of live plots.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup_shutter_control_widget">
<code class="descname">setup_shutter_control_widget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_shutter_control_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates shutter control widget, UI elements related to ALD shutter controls,
establishes signals and slots, as well as connections between UI elements 
and their associated <em>LoggedQuantities</em></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.setup_thermal_control_widget">
<code class="descname">setup_thermal_control_widget</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup_thermal_control_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates temperature plotting widget, UI elements meant to allow the user to monitor
ALD system conditions, specifically temperature, through the use of live plots.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.substrate_check">
<code class="descname">substrate_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.substrate_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if stage is adequately heated.</p>
<p>Should its condition be satisfied, its <em>LoggedQuantity</em> is updated 
and its respective LED indicator in the Conditions Widget groupBox will appear green.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.ui_initial_defaults">
<code class="descname">ui_initial_defaults</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.ui_initial_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverts the indicator arrays to their original state after deposition operations 
have concluded or have been interrupted.
This function is called from 
<a class="reference internal" href="#ALD.ALD_recipes.ALD_display.ALD_Display.widget_setup" title="ALD.ALD_recipes.ALD_display.ALD_Display.widget_setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">widget_setup()</span></code></a> and 
<a class="reference internal" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup" title="ALD.ALD_recipes.ALD_display.ALD_Display.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.ui_setup">
<code class="descname">ui_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.ui_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls all functions needed to set up UI programmatically.
This object is called from <a class="reference internal" href="#ALD.ALD_recipes.ALD_display.ALD_Display.setup" title="ALD.ALD_recipes.ALD_display.ALD_Display.setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setup()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.update_display">
<code class="descname">update_display</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.update_display" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>IMPORTANT:</strong> <em>Do not call this function. The core framework already does so.</em></p>
<p>Built in ScopeFoundry function is called repeatedly. 
Its purpose is to update UI plot objects.
This particular function updates plot objects depicting 
stage temperature, RF power levels, and the MFC flow rate and setpoint.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.update_subtable">
<code class="descname">update_subtable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.update_subtable" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates subroutine table tableWidget (UI element)
Called by <code class="xref py py-meth docutils literal notranslate"><span class="pre">app.measurements.ALD_recipe.subroutine_sum()</span></code> after the 
subroutine time table summation has been calculated.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.update_table">
<code class="descname">update_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.update_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the main time table tableWidget (UI element)
Called by <code class="xref py py-attr docutils literal notranslate"><span class="pre">app.measurements.ALD_recipe.sum_times</span></code> after the 
time table summation has been calculated.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.vent_check">
<code class="descname">vent_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.vent_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether predeposition and deposition stages have been completed.</p>
<p>Should its conditions be satisfied, its <em>LoggedQuantity</em> is updated 
and its respective LED indicator in the Conditions Widget groupBox will appear green.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_display.ALD_Display.widget_setup">
<code class="descname">widget_setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_display.ALD_Display.widget_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs collection of widget setup functions each of which creates the widget 
and then populates them.
This function is called from <a class="reference internal" href="#ALD.ALD_recipes.ALD_display.ALD_Display.ui_setup" title="ALD.ALD_recipes.ALD_display.ALD_Display.ui_setup"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ui_setup()</span></code></a></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ALD.ALD_recipes.ALD_recipe">
<span id="ald-ald-recipes-ald-recipe-module"></span><h2>ALD.ALD_recipes.ALD_recipe module<a class="headerlink" href="#module-ALD.ALD_recipes.ALD_recipe" title="Permalink to this headline">¶</a></h2>
<p>Created on May 25, 2018</p>
<dl class="docutils">
<dt>&#64;author: Alan Buckley &lt;<a class="reference external" href="mailto:alanbuckley&#37;&#52;&#48;lbl&#46;gov">alanbuckley<span>&#64;</span>lbl<span>&#46;</span>gov</a>&gt;</dt>
<dd>&lt;<a class="reference external" href="mailto:alanbuckley&#37;&#52;&#48;berkeley&#46;edu">alanbuckley<span>&#64;</span>berkeley<span>&#46;</span>edu</a>&gt;</dd>
</dl>
<dl class="class">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe">
<em class="property">class </em><code class="descclassname">ALD.ALD_recipes.ALD_recipe.</code><code class="descname">ALD_Recipe</code><span class="sig-paren">(</span><em>app</em>, <em>name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ScopeFoundry.measurement.Measurement</span></code></p>
<p>This module contains functions which regulate the behavior of the equipment used 
during the deposition routine. The instruction sets contained here and the user set
parameters are called a “Recipe.”</p>
<p>The run function in this module runs the recipe according to user set parameters. 
If interrupted, the recipe is interrupted, and the system is allowed time to pump 
down to initial levels.</p>
<p>This Measurement module and the 
<code class="xref py py-class docutils literal notranslate"><span class="pre">ALD_Display</span></code> module are interdependent and make calls to functions in the other module.
These modules should be loaded by 
<code class="xref py py-class docutils literal notranslate"><span class="pre">ALD_App</span></code>
in the following order:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="#module-ALD.ALD_recipes.ALD_recipe" title="ALD.ALD_recipes.ALD_recipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">ALD_Recipe</span></code></a></li>
<li><a class="reference internal" href="#module-ALD.ALD_recipes.ALD_display" title="ALD.ALD_recipes.ALD_display"><code class="xref py py-class docutils literal notranslate"><span class="pre">ALD_Display</span></code></a></li>
</ol>
<dl class="attribute">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.MFC_valve_states">
<code class="descname">MFC_valve_states</code><em class="property"> = {'Closed': 'C', 'Manual': 'N', 'Open': 'O'}</em><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.MFC_valve_states" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.add_to_csv">
<code class="descname">add_to_csv</code><span class="sig-paren">(</span><em>entry</em><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.add_to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Once <a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.new_csv" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.new_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">new_csv()</span></code></a> is run (and a csv file created,) this function appends 
entries of another array to a new row in the csv file.</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Arguments</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>entry</td>
<td>List to be written to comma separated value formatted log
List must have same length as <a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.header" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.header"><code class="xref py py-attr docutils literal notranslate"><span class="pre">header</span></code></a>
(Currently input array should have length of 20)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.create_indicator_lq_battery">
<code class="descname">create_indicator_lq_battery</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.create_indicator_lq_battery" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates indicator <em>LoggedQuantities</em> which indicate the steps completed 
towards the completion of the deposition process.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.db_poll">
<code class="descname">db_poll</code><span class="sig-paren">(</span><em>step='Placeholder'</em><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.db_poll" title="Permalink to this definition">¶</a></dt>
<dd><p>This command reads all relevant data at the time of its call and logs the data to a
comma separated value (csv) file.</p>
<p>Calling this the first time since application start creates the csv file with the 
current time stamp as its filename.</p>
<p>Subsequent calls will append data to existing csv log.</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="12%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Arguments</strong></td>
<td><strong>type</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>step</td>
<td>str</td>
<td>Name of current step in recipe. Allows user to determine
the step in which data was logged.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.deposition">
<code class="descname">deposition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.deposition" title="Permalink to this definition">¶</a></dt>
<dd><p>This function runs the full deposition routine. 
Deposition routine is preceded by pre-purge step and succeeded by post-purge.
See
<a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.run_recipe" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.run_recipe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run_recipe()</span></code></a> for the full recipe when measurement loop is started.</p>
<p>This is the parent function of 
<a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.routine" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.routine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">routine()</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.header">
<code class="descname">header</code><em class="property"> = ['Time', 'Cycles Completed', 'Steps Taken', 'Step Name', 'Shutter Open', 'PV1', 'PV2', 'CM Gauge (Torr)', 'Pirani Gauge (Torr)', 'Manometer (Torr)', 'Valve Position (%)', 'Set Forward Power (W)', 'Read Forward Power (W)', 'Reflected Power (W)', 'MFC Flow Rate (sccm)', 'SV Setpoint (C)', 'PV Temperature (C)', 'Proportional', 'Integral', 'Derivative']</em><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.load_display_module">
<code class="descname">load_display_module</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.load_display_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds listener functions to <em>LoggedQuantities</em> so that updates to LQs call functions to 
recalculate quantities in UI elements and apply updates to LQ arrays</p>
</dd></dl>

<dl class="attribute">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.name">
<code class="descname">name</code><em class="property"> = 'ALD_Recipe'</em><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.new_csv">
<code class="descname">new_csv</code><span class="sig-paren">(</span><em>entry</em><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.new_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates new comma separated value (csv) file, opens it, and writes an array the first row of 
csv file.</p>
<p>Run this once to create a new file.
Run <a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.add_to_csv" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.add_to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_to_csv()</span></code></a> to add new entries.</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Arguments</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>entry</td>
<td>List to be written to comma separated value formatted log
List must have same length as <a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.header" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.header"><code class="xref py py-attr docutils literal notranslate"><span class="pre">header</span></code></a>
(Currently input array should have length of 20)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.plasma_dose">
<code class="descname">plasma_dose</code><span class="sig-paren">(</span><em>width</em>, <em>power</em><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.plasma_dose" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn on RF source for duration of time.</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="12%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Arguments</strong></td>
<td><strong>Type</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>width</td>
<td>int</td>
<td>Duration RF source is active in seconds.</td>
</tr>
<tr class="row-odd"><td>power</td>
<td>int</td>
<td>RF forward power rating in Watts.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.postpurge">
<code class="descname">postpurge</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.postpurge" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs post purge stage. 
Waits a certain duration of time to allow the vacuum pumps time to vacate 
the chamber of gases.</p>
<p>Called by parent function
<a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.routine" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.routine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">routine()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.predeposition">
<code class="descname">predeposition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.predeposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs pre-deposition stage. 
* Sets MFC to manual open
* Sets flow to 0.7 sccm</p>
<p>Called by parent function
<a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.routine" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.routine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">routine()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.prepurge">
<code class="descname">prepurge</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.prepurge" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs pre-purge stage.
Waits a certain duration of time to allow the vacuum pumps 
time to vacate the chamber of gases.</p>
<p>Called by parent function
<a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.routine" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.routine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">routine()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.purge">
<code class="descname">purge</code><span class="sig-paren">(</span><em>width</em><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.purge" title="Permalink to this definition">¶</a></dt>
<dd><p>This function tells the ALD system to wait ‘width’ duration of time to 
allow gases to be vacated from the chamber by the vacuum pump.</p>
<p>This function’s timing mechanism is non-blocking.</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Arguments</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>width</td>
<td>Duration of time for system to wait in order to allow for
the purge of gases</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.routine">
<code class="descname">routine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.routine" title="Permalink to this definition">¶</a></dt>
<dd><p>This function carries out the looped part of our ALD routine.</p>
<p>Called by parent function
<a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.deposition" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.deposition"><code class="xref py py-meth docutils literal notranslate"><span class="pre">deposition()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.run" title="Permalink to this definition">¶</a></dt>
<dd><p><em>run</em> method runs in an separate thread and is used for data acquisition</p>
<p>No GUI updates should occur within the <em>run</em> function, any Qt related GUI work 
should occur in <code class="xref py py-meth docutils literal notranslate"><span class="pre">update_display()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.run_recipe">
<code class="descname">run_recipe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.run_recipe" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs full recipe. Called when 
<a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.run" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> is executed.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.set_default_save_location">
<code class="descname">set_default_save_location</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.set_default_save_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets default save location and stores it to <em>Logged Quantity</em>
<code class="xref py py-attr docutils literal notranslate"><span class="pre">self.settings.csv_save_path</span></code></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.set_precursor">
<code class="descname">set_precursor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.set_precursor" title="Permalink to this definition">¶</a></dt>
<dd><p>.7 &lt; Argon MFC &lt; 2 sccm +
X=Ar pressure &lt; channel 3 pressure &lt; Y=1</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Override this to set up logged quantities and gui connections
Runs during __init__, before the hardware connection is established
Should generate desired LoggedQuantities</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.shutoff">
<code class="descname">shutoff</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.shutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores recipe system of indicators to initial state. 
Any abort functions should also be called from within this function.
When 
<code class="xref py py-attr docutils literal notranslate"><span class="pre">interrupt_measurement_called</span></code> is set to True, this method is called,
and the routine loop is interrupted.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.shutter_pulse">
<code class="descname">shutter_pulse</code><span class="sig-paren">(</span><em>width</em><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.shutter_pulse" title="Permalink to this definition">¶</a></dt>
<dd><p>Actuate (open, then close) shutter over interval, ‘width’</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Arguments</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>width</td>
<td>Time in which shutter remains in open position.
Closes after ‘width’ seconds</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.subroutine_sum">
<code class="descname">subroutine_sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.subroutine_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Sums values entered into subroutine time table 
<code class="xref py py-attr docutils literal notranslate"><span class="pre">app.measurements.ALD_display.subroutine_table</span></code>, 
updates said table.</p>
<p>Called by 
<a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.sum_times" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.sum_times"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sum_times()</span></code></a> when 
<code class="xref py py-attr docutils literal notranslate"><span class="pre">self.settings.t3_method</span></code> is set to ‘PV/Purge’.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.sum_times">
<code class="descname">sum_times</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.sum_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Sometimes… :0</p>
<p>Performs an estimated time calculation based on values in the main 
time table. Every time the user updates data in the table, this function is called 
to recalculate estimated recipe time requirements</p>
<p>The table widget consists of a hierarchy of PyQt5 classes.
The structure of the table widget assumes the following form:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QWidget</span></code></dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableView</span></code></dt>
<dd><ul class="first last">
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableModel</span></code></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>More specific to the case of the subroutine table:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QWidget</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">subroutine_table_widget</span></code>)</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableView</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">subroutine_table</span></code>)</dt>
<dd><ul class="first last">
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableModel</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">subtableModel</span></code>)</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>And in the case of the main recipe table:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QWidget</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">table_widget</span></code>)</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableView</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">pulse_table</span></code>)</dt>
<dd><ul class="first last">
<li><code class="xref py py-class docutils literal notranslate"><span class="pre">QTableModel</span></code> (<code class="xref py py-attr docutils literal notranslate"><span class="pre">tableModel</span></code>)</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>See         <code class="xref py py-meth docutils literal notranslate"><span class="pre">ALD.ALD_recipes.ALD_display.setup_recipe_control_widget()</span></code>         for details.</p>
<p><strong>Example of table creation using PyQt5 and ScopeFoundry:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">table_widget</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table_widget_layout</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QHBoxLayout</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table_widget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_widget_layout</span><span class="p">)</span>

<span class="bp">self</span><span class="o">.</span><span class="n">table_label</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s1">&#39;Table Label&#39;</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table_widget</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_label</span><span class="p">)</span>

<span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableView</span><span class="p">()</span>
<span class="c1">## Optional height constraint.</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">setMaximumHeight</span><span class="p">(</span><span class="mi">65</span><span class="p">)</span>

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;List&#39;</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="s1">&#39;column&#39;</span><span class="p">,</span> <span class="s1">&#39;labels&#39;</span><span class="p">]</span>

<span class="bp">self</span><span class="o">.</span><span class="n">tableModel</span> <span class="o">=</span> <span class="n">ArrayLQ_QTableModel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">displayed_array</span><span class="p">,</span> <span class="n">col_names</span><span class="o">=</span><span class="n">names</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">setModel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tableModel</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">table_widget</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">)</span>

<span class="c1">### Add widget to enclosing outer widget</span>
<span class="bp">self</span><span class="o">.</span><span class="n">containing_widget</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_widget</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that <code class="xref py py-class docutils literal notranslate"><span class="pre">ArrayLQ_QTableModel</span></code> is a ScopeFoundry function containing PyQt5 code.
For simplicity, it has been included in ScopeFoundry’s core framework under ndarray_interactive.</p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.t3_update">
<code class="descname">t3_update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.t3_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks 
<code class="xref py py-meth docutils literal notranslate"><span class="pre">self.settings.t3_method()</span></code> to ascertain current operating mode. 
Loads t3 entry in array 
<code class="xref py py-meth docutils literal notranslate"><span class="pre">self.settings.time()</span></code> and updates time table 
accordingly in user interface.</p>
<p>Time table object can be found as:
<code class="xref py py-attr docutils literal notranslate"><span class="pre">app.measurements.ALD_display.pulse_table</span></code>
Its QTableModel object is defined as:
<code class="xref py py-attr docutils literal notranslate"><span class="pre">app.measurements.ALD_display.subtableModel</span></code></p>
<p>Acts as listener function in 
<a class="reference internal" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.load_display_module" title="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.load_display_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_display_module()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="ALD.ALD_recipes.ALD_recipe.ALD_Recipe.valve_pulse">
<code class="descname">valve_pulse</code><span class="sig-paren">(</span><em>channel</em>, <em>width</em><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.ALD_recipe.ALD_Recipe.valve_pulse" title="Permalink to this definition">¶</a></dt>
<dd><p>Open one of the pulse valves for specified duration of time, ‘width’</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Arguments</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>width</td>
<td>Valve open time in seconds. Once time width has elapsed,
pulse valve closes once again.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ALD.ALD_recipes.resources">
<span id="ald-ald-recipes-resources-module"></span><h2>ALD.ALD_recipes.resources module<a class="headerlink" href="#module-ALD.ALD_recipes.resources" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ALD.ALD_recipes.resources.qCleanupResources">
<code class="descclassname">ALD.ALD_recipes.resources.</code><code class="descname">qCleanupResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.resources.qCleanupResources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ALD.ALD_recipes.resources.qInitResources">
<code class="descclassname">ALD.ALD_recipes.resources.</code><code class="descname">qInitResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ALD.ALD_recipes.resources.qInitResources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ALD.ALD_recipes">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ALD.ALD_recipes" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">scopefoundry  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Alan Buckley.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>